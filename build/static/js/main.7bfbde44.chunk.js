(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),i=e(14),o=e.n(i),c=e(9),u=e(12),s=e(15),l=e(16),f=e(18),p=e(17),h=e(19),m=e(108),b=e(109),d=e(110),v=e(34),g=e.n(v),O={ARTISTS_FETCH_LIST:"ARTISTS_FETCH_LIST",ARTISTS_FETCH_LIST_COMPLETE:"ARTISTS_FETCH_LIST_COMPLETE",ARTISTS_FETCH_LIST_FAIL:"ARTISTS_FETCH_LIST_FAIL",ARTIST_SET_INFO:"ARTIST_SET_INFO",ARTIST_SET_ALBUMS:"ARTIST_SET_ALBUMS"},j={getLists:function(){return{type:O.ARTISTS_FETCH_LIST}},getListsComplete:function(t){return{type:O.ARTISTS_FETCH_LIST_COMPLETE,payload:t}},getListsFail:function(t){return{type:O.ARTISTS_FETCH_LIST_FAIL,error:t}},setArtistInfo:function(t){return{type:O.ARTIST_SET_INFO,payload:t}},setArtistAlbums:function(t){return{type:O.ARTIST_SET_ALBUMS,payload:t}}},T="http://ws.audioscrobbler.com/2.0/",A="4cb074e4b8ec4ee9ad3eb37d6f7eb240",E="chart.gettopartists",x="artist.getinfo",S="artist.gettopalbums";function y(t){return function(){return g.a.get("".concat(T,"?method=").concat(E,"&api_key=").concat(A,"&format=json")).then(function(n){var e=n.data;t(j.getListsComplete(e.artists.artist))})}}var w=e(2),I=e(3),_=e(26);function k(){var t=Object(w.a)(["\n    width: 100%;\n    height: 100%;\n"]);return k=function(){return t},t}function L(){var t=Object(w.a)(["\n    width: 50%;\n    height: 100%;\n    box-sizing: border-box;\n    border: none;\n    font-size: 20px;\n    padding: 0 10px;\n    outline: none;\n    font-weight: 200;\n"]);return L=function(){return t},t}function C(){var t=Object(w.a)(["\n    background: #f8f8f8;\n    width: 100%;\n    height: 20px;\n    cursor: pointer;\n    padding: 5px;\n    font-family: Helvetica;\n    font-weight: 200;\n    \n    &:hover {\n        background: #f0f0f0;\n    }\n"]);return C=function(){return t},t}function R(){var t=Object(w.a)(["\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    position: relative;\n    z-index: 999;\n    width: 50%;\n    border-radius: 4px;\n"]);return R=function(){return t},t}var F=function(t){function n(){var t,e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=Object(f.a)(this,(t=Object(p.a)(n)).call.apply(t,[this].concat(a)))).state={query:""},e}return Object(h.a)(n,t),Object(l.a)(n,[{key:"handleInputChange",value:function(){this.setState({query:this.search.value})}},{key:"onItemSelect",value:function(t){this.props.onItemSelect(t),this.setState({query:""}),this.search.value=""}},{key:"render",value:function(){var t=this,n=this.props,e=n.artists,r=n.className,i=this.state.query,o=e.filter(function(t){return t.name.toLowerCase().match(i.toLowerCase())}).map(function(n,e){var r=n.name;return a.a.createElement(M,{onClick:function(){return t.onItemSelect(r)},key:e},r)});return a.a.createElement("div",{className:r},a.a.createElement(z,{placeholder:"Search",ref:function(n){return t.search=n},onChange:this.handleInputChange.bind(this)}),Object(_.isEmpty)(o)||Object(_.isEmpty)(i)?null:a.a.createElement(N,null,o))}}]),n}(r.Component),H=Object(c.connect)(function(t){return{artists:t.artists.list}},function(t){return{onItemSelect:function(n){return t(u.routerActions.push("/artists/".concat(n)))}}})(F),N=I.a.ul(R()),M=I.a.li(C()),z=I.a.input(L()),q=Object(I.a)(H)(k());function B(){var t=Object(w.a)(["\n    width: 100%;\n    height: 50px;\n    background: #fff;\n"]);return B=function(){return t},t}function P(){var t=Object(w.a)(["\n    width: 50%;\n"]);return P=function(){return t},t}var U=Object(I.a)(q)(P()),D=Object(I.a)(function(t){var n=t.artists,e=t.className;return a.a.createElement("div",{className:e},a.a.createElement(U,{artists:n}))})(B()),J=e(13),W=e(107);function G(){var t=Object(w.a)(["\n    flex: 0 0 150px;\n    border-radius: 4px;\n    height: 150px;\n    overflow: hidden;\n    margin: 10px;\n    position: relative;\n    cursor: pointer;\n    background: #ddd;\n"]);return G=function(){return t},t}function K(){var t=Object(w.a)(["\n    position: absolute;\n    height: 16px;\n    width: 100%;\n    background: #fff;\n    bottom: 0;\n    left: 0;\n    font-family: Helvetica;\n    padding: 10px;\n    font-weight: 200;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return K=function(){return t},t}function Q(){var t=Object(w.a)(["\n    position: absolute;\n    width: 100%;\n"]);return Q=function(){return t},t}var V=I.a.img(Q()),X=I.a.div(K()),Y=Object(I.a)(function(t){var n=t.className,e=t.image,r=t.onArtistSelect,i=e.find(function(t){return"large"===t.size})["#text"];return a.a.createElement("div",{className:n,onClick:r},a.a.createElement(V,{src:i}),a.a.createElement(X,null,t.name))})(G());function Z(){var t=Object(w.a)(["\n    width: 100%;\n    background: #f1f1f1;\n    overflow: hidden;\n    margin: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n"]);return Z=function(){return t},t}var $=Object(c.connect)(function(t,n){return Object(J.a)({artists:t.artists.list},n)},function(t){return{onArtistSelect:function(n){return t(u.routerActions.push("/artists/".concat(n)))}}})(Object(W.a)(function(t){var n=t.className,e=t.artists,r=t.onArtistSelect,i=e.map(function(t,n){return a.a.createElement(Y,Object.assign({},t,{key:n,onArtistSelect:function(){return r(t.name)}}))});return a.a.createElement("div",{className:n},i)})),tt=Object(I.a)($)(Z());function nt(){var t=Object(w.a)(["\n    overflow: hidden;\n    padding: 10px;\n    margin: 0 10px;\n    background: #f1f1f1;\n    border-radius: 4px;\n"]);return nt=function(){return t},t}function et(){var t=Object(w.a)(["\n    border-radius: 50%;\n    width: 200px;\n    height: 200px;\n    overflow: hidden;\n    float: left;\n"]);return et=function(){return t},t}function rt(){var t=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    padding: 0 10px 10px 0;\n"]);return rt=function(){return t},t}function at(){var t=Object(w.a)(["\n    font-family: Helvetica;\n    font-weight: 200;\n    font-size: 32px;\n    width: calc(100% - 210px);\n    float: left;\n    margin-left: 10px;\n"]);return at=function(){return t},t}function it(){var t=Object(w.a)(["\n    float: left;\n    margin-top: 10px;\n    font-family: Helvetica;\n    font-weight: 100;\n"]);return it=function(){return t},t}function ot(){var t=Object(w.a)(["\n    width: 100px;\n    height: 40px;\n    line-height: 40px;\n    border: 2px solid #e7e7e7;\n    float: left;\n    font-family: Helvetica;\n    font-weight: 100;\n    text-align: center;\n    cursor: pointer;\n    margin: 10px 0 0 10px;\n    border-radius: 4px;\n    \n    &:hover {\n        background: #e1e1e1;\n    }\n"]);return ot=function(){return t},t}var ct=function(t){function n(){return Object(s.a)(this,n),Object(f.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.name;this.props.fetchArtistInfo(t)}},{key:"componentWillUnmount",value:function(){this.props.clearInfo()}},{key:"render",value:function(){if(Object(_.isEmpty)(this.props.artist))return null;var t=this.props,n=t.className,e=t.onAlbumsRequest,r=t.artist,i=r.image,o=r.name,c=r.bio.summary,u=i.find(function(t){return"mega"===t.size})["#text"];return a.a.createElement("div",{className:n},a.a.createElement(ht,null,a.a.createElement(pt,{src:u})),a.a.createElement(ft,null,o),a.a.createElement(st,{onClick:function(){e(o)}},"Albums"),a.a.createElement(lt,{dangerouslySetInnerHTML:{__html:c}}))}}]),n}(r.Component),ut=Object(c.connect)(function(t,n){return Object(J.a)({artist:t.artists.info.artist},n)},function(t){return{fetchArtistInfo:function(n){return t((e=n,function(t){return g.a.get("".concat(T,"?method=").concat(x,"&artist=").concat(e,"&api_key=").concat(A,"&format=json")).then(function(n){var e=n.data;t(j.setArtistInfo(e))})}));var e},clearInfo:function(){return t(j.setArtistInfo({}))},onAlbumsRequest:function(n){return t(u.routerActions.push("/artists/".concat(n,"/albums")))}}})(Object(W.a)(ct)),st=I.a.div(ot()),lt=I.a.div(it()),ft=I.a.div(at()),pt=I.a.img(rt()),ht=I.a.div(et()),mt=Object(I.a)(ut)(nt()),bt=e(59);function dt(){var t=Object(w.a)(["\n    width: calc(50% - 30px);\n    margin: 5px;\n    padding: 10px;\n    height: 50px;\n    background: #e9e9e9;\n    float: left;\n    border-radius: 4px;\n"]);return dt=function(){return t},t}function vt(){var t=Object(w.a)(["\n    border-radius: 50%;\n    overflow: hidden;\n    width: 50px;\n    height: 50px;\n    float: left;\n"]);return vt=function(){return t},t}function gt(){var t=Object(w.a)(["\n    width: 100%;\n"]);return gt=function(){return t},t}function Ot(){var t=Object(w.a)(["\n    font-family: Helvetica;\n    font-weight: 100;\n    margin-left: 10px;\n    float: left;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: calc(100% - 60px);\n    line-height: 50px;\n"]);return Ot=function(){return t},t}var jt=I.a.div(Ot()),Tt=I.a.img(gt()),At=I.a.div(vt()),Et=Object(I.a)(function(t){var n=t.className,e=t.name,r=t.image.find(function(t){return"medium"===t.size})["#text"];return a.a.createElement("div",{className:n},a.a.createElement(At,null,a.a.createElement(Tt,{src:r})),a.a.createElement(jt,null,e))})(dt());function xt(){var t=Object(w.a)(["\n    font-family: Helvetica;\n    padding: 10px;\n    font-size: 22px;\n    font-weight: 100;\n    width: 50%;\n    float: left;\n    box-sizing: border-box;\n"]);return xt=function(){return t},t}function St(){var t=Object(w.a)(["\n    top: 5px;\n    width: 25%;\n    float: right;\n    font-family: Helvetica;\n    cursor: pointer;\n    padding-right: 10px;\n"]);return St=function(){return t},t}function yt(){var t=Object(w.a)(["\n    overflow: hidden;\n    width: 100%;\n    padding: 10px;\n    box-sizing: border-box;\n"]);return yt=function(){return t},t}function wt(){var t=Object(w.a)(["\n  \n"]);return wt=function(){return t},t}var It=[{value:10,label:"Top 10 Albums"},{value:15,label:"Top 15 Albums"},{value:20,label:"Top 20 Albums"}],_t=function(t){function n(){var t;return Object(s.a)(this,n),(t=Object(f.a)(this,Object(p.a)(n).call(this))).state={sortingOption:It[0]},t}return Object(h.a)(n,t),Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.name;this.props.fetchArtistAlbums(t)}},{key:"onFilterChange",value:function(t){this.setState({sortingOption:t})}},{key:"getFilteredAlbums",value:function(){var t=this.state.sortingOption;return this.props.albums.slice(0,t.value)}},{key:"render",value:function(){var t=this.props.className,n=this.state.sortingOption,e=this.getFilteredAlbums().map(function(t,n){return a.a.createElement(Et,Object.assign({},t,{key:n}))});return a.a.createElement("div",{className:t},a.a.createElement(Ft,null,"Albums"),a.a.createElement(Rt,{value:n,onChange:this.onFilterChange.bind(this),options:It}),a.a.createElement(Ct,null,e))}}]),n}(r.Component),kt=Object(c.connect)(function(t,n){return Object(J.a)({albums:t.artists.albums.topalbums.album},n)},function(t){return{fetchArtistAlbums:function(n){return t((e=n,function(t){return g.a.get("".concat(T,"?method=").concat(S,"&artist=").concat(e,"&api_key=").concat(A,"&format=json")).then(function(n){var e=n.data;t(j.setArtistAlbums(e))})}));var e}}})(Object(W.a)(_t)),Lt=Object(I.a)(kt)(wt()),Ct=I.a.div(yt()),Rt=Object(I.a)(bt.a)(St()),Ft=I.a.div(xt()),Ht=function(t){function n(){return Object(s.a)(this,n),Object(f.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchArtistsList()}},{key:"fetchArtistInfo",value:function(t){this.props.fetchArtistInfo(t)}},{key:"fetchArtistAlbums",value:function(t){this.props.fetchArtistAlbums(t)}},{key:"render",value:function(){var t=this.props.artistsList.artists,n={onArtistSelect:this.fetchArtistInfo.bind(this),onAlbumsListRequest:this.fetchArtistAlbums.bind(this)};return a.a.createElement("div",{className:"App"},a.a.createElement(D,Object.assign({},t,n)),a.a.createElement(m.a,null,a.a.createElement(b.a,{path:"/artists",component:tt,exact:!0}),a.a.createElement(b.a,{path:"/artists/:name",component:mt,exact:!0}),a.a.createElement(b.a,{path:"/artists/:name/albums",component:Lt,exact:!0}),a.a.createElement(d.a,{to:"/artists"})))}}]),n}(r.Component),Nt=Object(c.connect)(function(t){return{artistsList:t.artists.list,artistInfo:t.artists.info,albumsList:t.artists.albums}},function(t){return{fetchArtistsList:t(y)}})(Ht),Mt=e(20),zt=e(62),qt=e(10),Bt={list:[],info:{artist:{}},albums:{topalbums:{album:[]}}};function Pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O.ARTISTS_FETCH_LIST_COMPLETE:return Object(J.a)({},t,{list:n.payload});case O.ARTIST_SET_INFO:return Object(J.a)({},t,{info:n.payload});case O.ARTIST_SET_ALBUMS:return Object(J.a)({},t,{albums:n.payload});default:return t}}var Ut=function(){var t=Object(qt.a)();return{store:Object(Mt.d)(function(t){return Object(Mt.c)({artists:Pt,router:Object(u.connectRouter)(t)})}(t),Object(Mt.a)(Object(u.routerMiddleware)(t),zt.a)),history:t}}(),Dt=Ut.store,Jt=Ut.history;o.a.render(a.a.createElement(c.Provider,{store:Dt},a.a.createElement(u.ConnectedRouter,{history:Jt},a.a.createElement(Nt,null))),document.getElementById("root"))},64:function(t,n,e){t.exports=e(106)}},[[64,2,1]]]);
//# sourceMappingURL=main.7bfbde44.chunk.js.map